<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/iview/2.13.1/styles/iview.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.16/vue.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/iview/2.13.1/iview.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/0.7.0/vue-resource.min.js"></script>
  <link rel="stylesheet" href="css/login.css">
  <title>登陆/注册</title>
</head>
<body>
  <div id="app">
    <Card :bordered="false" style="width:350px;text-align:center;" v-if="loged">
      <p slot="title">
        Hello {{formInline.user}}
      </p>
      <Avatar :style="{background: color}" size="large">{{formInline.user}}</Avatar></br>
      <div>
        <i-button type="primary" style="margin-top:16px;"><a href="index.html" style="color:#ffffff;">返回</a></i-button>
        <i-button style="margin-top:16px;" @click="logout">登出</i-button>
      </div>
      <!-- <i-button type="primary" style="margin-top:16px;"><a href="index.html" style="color:#ffffff;">返回</a></i-button></br>
      <i-button style="margin-top:16px;" @click="logout">登出</i-button> -->
    </Card>
    <Card :bordered="false" style="width:350px" v-else>
        <p slot="title">
          <i-switch v-model="signup" size="large" @on-change="stateChange">
              <span slot="open">注册</span>
              <span slot="close">登陆</span>
          </i-switch>
        </p>
        <i-form ref="formInline" :model="formInline" :rules="ruleInline" inline>
            <FormItem prop="user">
                <i-input type="text" v-model="formInline.user" placeholder="请输入用户名">
                    <Icon type="ios-person-outline" slot="prepend"></Icon>
                </i-input>
            </FormItem>
            <FormItem prop="password">
                <i-input type="password" v-model="formInline.password" placeholder="请输入密码">
                    <Icon type="ios-locked-outline" slot="prepend"></Icon>
                </i-input>
            </FormItem>
            <FormItem prop="password" v-show="signup">
                <i-input type="password" v-model="formInline.comfpassword" placeholder="请确认密码">
                    <Icon type="ios-locked-outline" slot="prepend"></Icon>
                </i-input>
                <div v-show="(formInline.password!=formInline.comfpassword)&&formInline.comfpassword" style="color: #75723d;margin-bottom: 6px;font-size: 12px;">两次密码不一致</div>
                <div v-show="formInline.user.length>9" style="color: #75723d;margin-bottom: 6px;font-size: 10px;">用户名长度应少于9个字符(字母、数字、中文、符号可自由组合)</div>
            </FormItem>
            <div v-show="err_tip" style="color: #75723d;margin-bottom: 6px;font-size: 12px;">{{err_tip}}</div>
            <FormItem>
                <i-button type="primary" @click="login()" :disabled="(formInline.user=='')||(formInline.password=='')" v-if="!signup">登陆</i-button>
                <i-button type="primary" @click="logup()" :disabled="(formInline.password!=formInline.comfpassword)||formInline.password==''||formInline.user.length>9" v-else>注册</i-button>
            </FormItem>
        </i-form>
    </Card>
  </div>
</body>
<script src="js/login_6_7.js" charset="utf-8"></script>
</html>
